   Compiling crux-core v0.2.0 (/home/runner/work/crux/crates/crux-core)
   Compiling crux-cli v0.2.0 (/home/runner/work/crux/crates/crux-cli)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 8.31s
     Running unittests src/lib.rs (target/debug/deps/crux_core-a1b2c3d4e5f6a7b8)

running 20 tests
test config::tests::load_default_config ... ok
test config::tests::load_custom_config_path ... ok
test config::tests::missing_config_returns_error ... ok
test config::tests::invalid_toml_returns_parse_error ... ok
test config::resolution::tests::local_overrides_global ... ok
test config::resolution::tests::first_match_wins ... ok
test config::resolution::tests::passthrough_on_missing ... FAILED
test filter::tests::skip_filter_removes_lines ... ok
test filter::tests::replace_filter_substitutes ... ok
test filter::tests::section_filter_extracts_range ... FAILED
test filter::tests::chain_filters_compose ... ok
test filter::builtin::git::tests::git_status_filters_hints ... ok
test filter::builtin::git::tests::git_status_clean ... ok
test filter::builtin::git::tests::git_diff_summarizes_hunks ... ok
test filter::builtin::git::tests::git_log_compacts_commits ... ok
test filter::builtin::cargo::tests::cargo_test_success ... ok
test filter::builtin::cargo::tests::cargo_build_success ... ok
test filter::builtin::cargo::tests::cargo_build_failure ... FAILED
test filter::builtin::docker::tests::docker_ps_strips_ports_column ... ok
test filter::builtin::docker::tests::docker_ps_empty_output ... ok

failures:

---- config::resolution::tests::passthrough_on_missing ----
thread 'config::resolution::tests::passthrough_on_missing' panicked at crates/crux-core/src/config/resolution.rs:87:9:
assertion `left == right` failed
  left: "filtered output"
  right: "raw input unchanged"

---- filter::tests::section_filter_extracts_range ----
thread 'filter::tests::section_filter_extracts_range' panicked at crates/crux-core/src/filter/mod.rs:142:9:
assertion `left == right` failed: section filter should extract lines 5-10
  left: "line 5\nline 6\nline 7"
  right: "line 5\nline 6\nline 7\nline 8\nline 9\nline 10"

---- filter::builtin::cargo::tests::cargo_build_failure ----
thread 'filter::builtin::cargo::tests::cargo_build_failure' panicked at crates/crux-core/src/filter/builtin/cargo.rs:321:9:
assertion failed: result.contains("error[E0308]: mismatched types")

failures:
    config::resolution::tests::passthrough_on_missing
    filter::tests::section_filter_extracts_range
    filter::builtin::cargo::tests::cargo_build_failure

test result: FAILED. 17 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

error: test failed, to rerun pass `--lib`
